@using asp_dot_net_mvc_demo.Data.ViewModels

@model UpdateOrderListVM
@{
	var orderList = Model.OrderList;
	var orderVMList = Model.UpdateOrderVMList;
}

<h1>Update Order</h1>

<form method="post">

	@{
		var i = 0;
	}
	@foreach (var order in orderList)
	{
		@Html.HiddenFor(m => m.UpdateOrderVMList[i].OrderId)
		<h1>Order ID @orderVMList[i].OrderId</h1>
		<table class="table">
			<thead>
				<tr>
					<th>Item Id</th>
					<th>Name</th>
					<th>Quantity</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in order.OrderItems)
				{
					<tr>
						<td>
							@item.Id
						</td>
						<td>@item.Product.Name</td>
						@Html.HiddenFor(m => m.UpdateOrderVMList[i].OrderItemId)
						<td>
							@Html.EditorFor(m => m.UpdateOrderVMList[i].Quantity)
						</td>
					</tr>
					i++;
				}
			</tbody>
		</table>
	}

	<input asp-for="TestString" />
	<button type="submit" class="btn btn-success">Update Order List</button>
</form>